(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{427:function(s,t,a){"use strict";a.r(t);var n=a(41),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vscode-插件开发指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode-插件开发指南"}},[s._v("#")]),s._v(" vscode 插件开发指南")]),s._v(" "),a("h2",{attrs:{id:"插件的能力"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件的能力"}},[s._v("#")]),s._v(" 插件的能力")]),s._v(" "),a("ul",[a("li",[s._v("主题\n"),a("ul",[a("li",[s._v("界面和文本(TextMate 语法)主题色")]),s._v(" "),a("li",[s._v("图标样式")])])]),s._v(" "),a("li",[s._v("通用功能\n"),a("ul",[a("li",[s._v("添加命令")]),s._v(" "),a("li",[s._v("添加配置项")]),s._v(" "),a("li",[s._v("添加快捷键")]),s._v(" "),a("li",[s._v("添加菜单项")]),s._v(" "),a("li",[s._v("添加右键菜单")]),s._v(" "),a("li",[s._v("从文本输入框获取输入(QuickPick)")]),s._v(" "),a("li",[s._v("存储数据(localStorage)")])])]),s._v(" "),a("li",[s._v("工作区扩展\n"),a("ul",[a("li",[s._v("活动栏项目")]),s._v(" "),a("li",[s._v("显示提示框")]),s._v(" "),a("li",[s._v("状态栏信息")]),s._v(" "),a("li",[s._v("显示进度条")]),s._v(" "),a("li",[s._v("打开文件")]),s._v(" "),a("li",[s._v("显示网页(web view)")])])]),s._v(" "),a("li",[s._v("程序语言\n"),a("ul",[a("li",[s._v("实现新语言的高亮")]),s._v(" "),a("li",[s._v("实现新语言的调试器")]),s._v(" "),a("li",[s._v("代码库管理")]),s._v(" "),a("li",[s._v("定义和执行 Task")]),s._v(" "),a("li",[s._v("定义 snippet")])])])]),s._v(" "),a("h2",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[s._v("#")]),s._v(" 生命周期")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Activation Event")]),s._v("：设置插件激活的时机。位于 package.json 中。")]),s._v(" "),a("li",[a("strong",[s._v("Contribution Point")]),s._v("：设置在 VSCode 中哪些地方添加新功能，也就是这个插件增强了哪些功能。位于 package.json 中。")]),s._v(" "),a("li",[a("strong",[s._v("Register")]),s._v("：在 extension.ts 中给要写的功能用 vscode.commands.register... 给 Activation Event 或 Contribution Point 中配置的事件绑定方法或者设置监听器。位于入口文件（默认是 extension.ts）的 activate() 函数中。")])]),s._v(" "),a("h2",{attrs:{id:"packages-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packages-json"}},[s._v("#")]),s._v(" packages.json")]),s._v(" "),a("p",[s._v("package 中和插件有关的主要内容是如下几个项目，其中 main 是插件代码的入口文件。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"activationEvents"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"onCommand:extension.helloWorld"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./out/extension.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"contributes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commands"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extension.helloWorld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extension.helloVscode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello vscode"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"生成项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成项目"}},[s._v("#")]),s._v(" 生成项目")]),s._v(" "),a("p",[s._v("首先利用 npm 全局安装 "),a("a",{attrs:{href:"https://yeoman.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Yeoman"),a("OutboundLink")],1),s._v(" and "),a("a",{attrs:{href:"https://www.npmjs.com/package/generator-code",target:"_blank",rel:"noopener noreferrer"}},[s._v("VS Code Extension Generator"),a("OutboundLink")],1),s._v(":")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g yo generator-code\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("接着执行：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yo code\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("按照提示一步步定制化你的项目，一个基本的项目结构就生成了，有点类似 React 的 "),a("code",[s._v("create-react-app")]),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"调试模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试模式"}},[s._v("#")]),s._v(" 调试模式")]),s._v(" "),a("p",[s._v("按下 "),a("code",[s._v("F5")]),s._v("，会编译插件并新开一个窗口运行调试模式")])])}),[],!1,null,null,null);t.default=e.exports}}]);